A-Ethernaut-CTF
------------------------

Day5 2024.09.02

Telephone
------------------------

é¢˜ç›®ï¼š

Claim ownership of the contract below to complete this level.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Telephone {
    address public owner;

    constructor() {
        owner = msg.sender;
    }

    function changeOwner(address _owner) public {
        if (tx.origin != msg.sender) {
            owner = _owner;
        }
    }
}
```

è§£é¡Œï¼š

1. åªè¦ç ´è§£
```solidity
    function changeOwner(address _owner) public {
        if (tx.origin != msg.sender) {
            owner = _owner;
        }
    }
```
å°±å¯ä»¥è®Šæˆ owner

msg.senderï¼šç›®å‰å‡½æ•¸å‘¼å«çš„ç›´æ¥å‚³é€è€…ã€‚
tx.originï¼šäº¤æ˜“çš„åŸå§‹ç™¼èµ·è€…ã€‚

2.åªè¦ä¸æ˜¯åŸå§‹ç™¼èµ·è€…å°±å¯ä»¥è®Šæˆ owner ï¼ˆå¤©åº•ä¸‹å› è©²ä¸æœƒæœ‰é€™ä»¶äº‹...)

3. ä¸éä»–æ„Ÿè¦ºæ˜¯è¦è®“æˆ‘å€‘çœ‹ tx.origin çš„è®ŠåŒ–ï¼Œå¯«äº†æ”»æ“Šåˆç´„ [TelephoneAttack.sol](../A-Ethernaut-CTF/POC/src/attacks/TelephoneAttack.sol)

ç™¼ç¾åˆ©ç”¨ æ”»æ“Šåˆç´„å‘¼å«çš„ tx.originå…¶å¯¦æ²’è®Š... ğŸ’€


Attacks smart contract:
[TelephoneAttack.sol](../A-Ethernaut-CTF/POC/src/attacks/TelephoneAttack.sol)

POC:
[Telephone.t.sol](../A-Ethernaut-CTF/POC/test/5/Telephone.t.sol)



è£œå……ï¼šhttps://learnblockchain.cn/article/3568